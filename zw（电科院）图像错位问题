时间：2018年3月9日
地点：飞秒112室
人物：张海波
问题类型：FPGA软件时序控制问题
问题描述：
    zw（电科院）板，宋河调试最终状态为不接相机的情况下，图像通过HDMI接口输出1920*1080@25Hz图像，图像的左上角720*576区域为蓝色，其余部分为黑色。
    海波接手后连接相机出图，图像左右错位，中间为黑色竖道，明显为时序编写问题。
问题分析：
    经过采样，HDMI模块输入图像数据为正确数据，因此图像本身不存在问题；
    HDMI在1080p的情况下，时钟频率为148.5MHz，而系统DDR的FIFO始终为100MHz，因此认为图像最开始阶段可能前级速率低于后级速率导致；
    DDR的工作方式为先写后读，因此在写第一帧数据之前，如果HDMI模块请求数据，就会出现数据错位的问题。
解决办法：
    将DDR的读写控制更改为完全独立，读数据不受到写数据的影响；
    该解决方法可能会导致系统输出图像出现前后两帧数据拼接的问题，但该项目的最终是由用户人眼感官体验，因此在25帧频的刷新速率下，这个问题对视觉没有影响。
